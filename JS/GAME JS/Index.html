<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <title>GAME JS</title>
  </head>

  <body class="planer">
    
            <img id = "ship" src="./assets/imgs/Spaceship_tut.png"/>
            <img id = "meteor" src="./assets/imgs/meteor.png"/>
            
            




    <script src="./assets/js/Script.js"></script>
    <script>
        var widthPage = document.documentElement.clientWidth;
        var heightPage = document.documentElement.clientHeight;
        
        
        const imagem = document.querySelector('#ship');
        const meteor = document.querySelector('#meteor');
        
      
        nav = new Personagem(widthPage/2, heightPage/2, imagem);
        nav.position();

        met = new Meteor(50,50,meteor);
        
       
        

       
       
        

        


        
        
        
        
       

              /*Método moveRotate: 
                var mouseX = e.pageX;
                var mouseY = e.pageY;

                //Obtendo posição do centro do elemento (do caso a nave)
                var naveX = imagem.offsetLeft + (imagem.offsetWidth / 2);
                var naveY = imagem.offsetTop + (imagem.offsetHeight / 2);

                //Calcular ângulo de rotação
                var radianos = Math.atan2 (mouseY - naveY, mouseX - naveX);
                var angulo = radianos * (180 / Math.PI);

                //Definindo propriedade transforme ao elemento (nave)
                imagem.style.transform = 'rotate(' + angulo + 'deg)';*/
                

                /*Função onMove*/
                function onMove(e){

                  var mouseX = e.pageX;
                  var mouseY = e.pageY;

                  nav.moveRotate(mouseX, mouseY);

                }
                /*Função para imagem seguir o mouse*/
                function sureMouse(e){

                  var mouseX = e.pageX;
                  var mouseY = e.pageY;

                  imagem.style.top = mouseY + "px";
                  imagem.style.left = mouseX + "px";


                }

                //Controlador para rotacionar o mouse apenas quando ocorrer o evento 'mousedown'
                document.addEventListener('mousedown', function(e){
                  
                  if(e.button === 2){ //boão esquerdo é pressionado

                    document.addEventListener('mousemove', onMove);
                    document.removeEventListener('mousemove', sureMouse);

                  }
                });
                
                //Controlador que define para seguir o ponteiro quando ocorrer o evento 'mouseup'
                document.addEventListener('mouseup',function(e){

                  if(e.button === 2){//botão esquerdo é solto
                    
                    document.addEventListener('mousemove',sureMouse);
                    document.removeEventListener('mousemove', onMove);
                  
                  }

                });
               
                
                //Define que a nave siga o ponteiro do mouse
                document.addEventListener('mousemove', sureMouse);



                //Remove comportamento do botão direito
                document.addEventListener('contextmenu', function(event) {
                   event.preventDefault();
                });

                
                
                
                
                
                
                
           
            
           
    </script>
  </body>
</html>
