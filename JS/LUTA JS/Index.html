<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <title>GAME JS</title>
  </head>

  <body class="planer">
    
            <img id = "ship" src="./assets/imgs/Spaceship_tut.png"/>
            




    <script src="./assets/js/Script.js"></script>
    <script>
        var widthPage = document.documentElement.clientWidth;
        var heightPage = document.documentElement.clientHeight;
        
        
        imagem = document.querySelector('#ship');
        nav = new Personagem(widthPage/2, heightPage/2, imagem);
        nav.position();
        

          

              /*Método moveRotate: 
                var mouseX = e.pageX;
                var mouseY = e.pageY;

                //Obtendo posição do centro do elemento (do caso a nave)
                var naveX = imagem.offsetLeft + (imagem.offsetWidth / 2);
                var naveY = imagem.offsetTop + (imagem.offsetHeight / 2);

                //Calcular ângulo de rotação
                var radianos = Math.atan2 (mouseY - naveY, mouseX - naveX);
                var angulo = radianos * (180 / Math.PI);

                //Definindo propriedade transforme ao elemento (nave)
                imagem.style.transform = 'rotate(' + angulo + 'deg)';*/
                

                /*Função onMove*/
                function onMove(e){

                  var mouseX = e.pageX;
                  var mouseY = e.pageY;

                  nav.moveRotate(mouseX, mouseY);

                }

                function sureMouse(e){

                  var mouseX = e.pageX;
                  var mouseY = e.pageY;

                  imagem.style.top = mouseY + "px";
                  imagem.style.left = mouseX + "px";


                }

                //Controlador para rotacionar o mouse apenas quando ocorrer o evento 'mousedown'
                document.addEventListener('mousedown', function(e){
                  e.preventDefault();
                  if(e.button === 2){ //boão esquerdo é pressionado
                    
                    document.addEventListener('mousemove', onMove);
                  }

                });

                document.addEventListener('mouseup', function(e){
                  e.preventDefault();
                  if(e.button === 2){//botão esquerdo e solto
                   
                    document.removeEventListener('mousemove', onMove);
                  }

                });
                
                //Controlador para mover o eixo X e Y da imagem ao pressionar o botão esquerdo do mouse
                
                document.addEventListener('mousedown',function(e){

                  if(e.button === 0){
                    document.addEventListener('mousemove', sureMouse);
                  }

                });


                document.addEventListener('mouseup',function(e){

                if(e.button === 0){
                  document.removeEventListener('mousemove', sureMouse);
                }

                });


                //Remove comportamento do botão direito
                document.addEventListener('contextmenu', function(event) {
                   event.preventDefault();
                });

                
                
                
                
                
                
                
           
            
           
    </script>
  </body>
</html>
